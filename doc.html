<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Appendix B: Cpu0 document and test &mdash; Tutorial: Creating an LLVM Backend for the Cpu0 Architecture</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Tutorial: Creating an LLVM Backend for the Cpu0 Architecture" href="index.html" />
    <link rel="next" title="Todo List" href="todo.html" />
    <link rel="prev" title="Appendix A: Getting Started: Installing LLVM and the Cpu0 example code" href="install.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Tutorial: Creating an LLVM Backend for the Cpu0 Architecture</span></a></h1>
        <h2 class="heading"><span>Appendix B: Cpu0 document and test</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="install.html">Appendix A: Getting Started: Installing LLVM and the Cpu0 example code</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="todo.html">Todo List</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="appendix-b-cpu0-document-and-test">
<span id="sec-appendix-doc"></span><h1>Appendix B: Cpu0 document and test<a class="headerlink" href="#appendix-b-cpu0-document-and-test" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#cpu0-document" id="id7">Cpu0 document</a><ul>
<li><a class="reference internal" href="#install-sphinx" id="id8">Install sphinx</a></li>
<li><a class="reference internal" href="#generate-cpu0-document" id="id9">Generate Cpu0 document</a></li>
<li><a class="reference internal" href="#about-cpu0-document" id="id10">About Cpu0 document</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpu0-regression-test" id="id11">Cpu0 Regression Test</a></li>
</ul>
</div>
<div class="section" id="cpu0-document">
<h2><a class="toc-backref" href="#id7">Cpu0 document</a><a class="headerlink" href="#cpu0-document" title="Permalink to this headline">¶</a></h2>
<p>This section illustrates how to generate Cpu0 backend document.</p>
<div class="section" id="install-sphinx">
<h3><a class="toc-backref" href="#id8">Install sphinx</a><a class="headerlink" href="#install-sphinx" title="Permalink to this headline">¶</a></h3>
<p>LLVM and this book use sphinx to generate html document. This book uses Sphix to
generate pdf and epub format of document further.
Sphinx uses restructured text format here <a class="footnote-reference" href="#rst-ref" id="id1">[3]</a> <a class="footnote-reference" href="#rst-dir" id="id2">[4]</a> <a class="footnote-reference" href="#rst" id="id3">[5]</a>.
The installation of Sphinx reference <a class="footnote-reference" href="#sphinx-install" id="id4">[1]</a>.</p>
<p>On iMac or linux you can install as follows,</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo easy_install sphinx
</pre></div>
</div>
<p>Above installaton can generate html document but not for pdf.
To support pdf/latex document generated as follows,</p>
<p>On iMac, install MacTex.pkg from here <a class="footnote-reference" href="#maxtex" id="id5">[2]</a>.</p>
<p>On Linux, install texlive as follows,</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get install texlive texlive-latex-extra
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo yum install texlive texlive-latex-extra
</pre></div>
</div>
<p>On Fedora 17, the texlive-latex-extra is missing. We install the package which
include the pdflatex instead. For instance, we install pdfjam on Fedora 17 as
follows,</p>
<div class="highlight-bash"><div class="highlight"><pre>[root@localhost BackendTutorial]$ yum list pdfjam
Loaded plugins: langpacks, presto, refresh-packagekit
Installed Packages
pdfjam.noarch                        2.08-3.fc17                         @fedora
[root@localhost BackendTutorial]$
</pre></div>
</div>
<p>On Fedora 18, the error as follows,</p>
<div class="highlight-bash"><div class="highlight"><pre>[root@localhost BackendTutorial]$ make latexpdf
...
LaTeX Error: File `titlesec.sty&#39; not found
</pre></div>
</div>
<p>Install all texlive-* (full) as follows,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>root@localhost BackendTutorial<span class="o">]</span><span class="nv">$ </span>yum install texlive-*
</pre></div>
</div>
</div>
<div class="section" id="generate-cpu0-document">
<h3><a class="toc-backref" href="#id9">Generate Cpu0 document</a><a class="headerlink" href="#generate-cpu0-document" title="Permalink to this headline">¶</a></h3>
<p>Cpu0 example code is added step by step and chapter by chapter.
It can be configured to a specific chapter by change CH definition in
Cpu0SetChapter.h.
For example, the following definition configue it to chapter 2.</p>
<p class="rubric">lbdex/Cpu0/Cpu0SetChapter.h</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#define CH       CH2</span>
</pre></div>
</div>
<p>To make readers easily understanding the backend structure step by step, Cpu0
example code can be generated with chapter by chapter through commands as follws,</p>
<div class="highlight-bash"><div class="highlight"><pre>118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span><span class="nb">pwd</span>
/home/Jonathan/test/lbd/docs/BackendTutorial
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>make genexample
...
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>ls lbdex/chapters/
Chapter10_1  Chapter2    Chapter3_4  Chapter5_1  Chapter8_2
Chapter11_1  Chapter3_1  Chapter3_5  Chapter6_1  Chapter9_1
Chapter11_2  Chapter3_2  Chapter4_1  Chapter7_1  Chapter9_2
Chapter12_1  Chapter3_3  Chapter4_2  Chapter8_1  Chapter9_3
</pre></div>
</div>
<p>Then, this book html/pdf can be generated by the following commands.</p>
<div class="highlight-bash"><div class="highlight"><pre>118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span><span class="nb">pwd</span>
/home/Jonathan/test/lbd/docs/BackendTutorial
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>make html
...
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>make latexpdf
...
</pre></div>
</div>
<p>Beside chapters example code, above html and pdf of Cpu0 documents also include
files *.ll and *.s in BackendTutorial/output. So, when change Cpu0 code or
porting to new llvm version, please do the following before generate documents.</p>
<div class="highlight-bash"><div class="highlight"><pre>118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span><span class="nb">pwd</span>
/home/Jonathan/test/lbd/docs/BackendTutorial
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>bash gen-ch12-output.sh
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>git add output/.
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>git commit -m <span class="s2">&quot;update output&quot;</span>
118-165-12-177:BackendTutorial Jonathan<span class="nv">$ </span>git push
</pre></div>
</div>
</div>
<div class="section" id="about-cpu0-document">
<h3><a class="toc-backref" href="#id10">About Cpu0 document</a><a class="headerlink" href="#about-cpu0-document" title="Permalink to this headline">¶</a></h3>
<p>Since llvm have a new release version around every 6 months and every name of
file, function, class, variable, ..., etc, can be changed, the Cpu0 document
maintains is an effort because it add the code step by step, chapter by chapter.
In order to make the document as correct and easy to maintain. I use the
&#8221;:start-after:&#8221; and &#8221;:end-before:&#8221; of restructured text format to keep the
document update to date.
For every new release, when the Cpu0 backend code is changed, the document will
reflect the changes in most of the contents of document.</p>
<p>In lbdex/Cpu0, the text begin from &#8220;//&#64;&#8221; and &#8220;#ifdef CH &gt; CHxx&#8221; is refered by
document files *.rst.</p>
<p>In lbdex/src/modify/src, the *.rst refer the code by copy them directly.
Most of references exist in llvmstructure.rst and elf.rst.</p>
</div>
</div>
<div class="section" id="cpu0-regression-test">
<h2><a class="toc-backref" href="#id11">Cpu0 Regression Test</a><a class="headerlink" href="#cpu0-regression-test" title="Permalink to this headline">¶</a></h2>
<p>The last chapter can verify code by Verilog simulator without including global
variable and some data which are put beyond stack.
The chapter lld in web <a class="reference external" href="https://github.com/Jonathan2251/lbt.git">https://github.com/Jonathan2251/lbt.git</a> will include
llvm ELF linker implementation and can verify those test items which include
global variable access.
Beside these, LLVM has its test cases (regression test) for each backend to
verify the code generation <a class="footnote-reference" href="#test" id="id6">[6]</a>.
Cpu0 regression test items existed in lbdex.tar.gz example code. Untar it
to lbdex/, and:</p>
<p>For both iMac and Linux, copy lbdex/regression-test/Cpu0 to
~/llvm/test/src/test/CodeGen/Cpu0.</p>
<p>Then run as follows for single test case and the whole test cases on iMac.</p>
<div class="highlight-bash"><div class="highlight"><pre>1-160-130-77:Cpu0 Jonathan<span class="nv">$ </span><span class="nb">pwd</span>
/Users/Jonathan/llvm/test/src/test/CodeGen/Cpu0
1-160-130-77:Cpu0 Jonathan<span class="nv">$ </span>~/llvm/test/cmake_debug_build/Debug/bin/llvm-lit seteq.ll
-- Testing: 1 tests, 1 threads --
PASS: LLVM :: CodeGen/Cpu0/seteq.ll <span class="o">(</span>1 of 1<span class="o">)</span>
Testing Time: 0.08s
  Expected Passes    : 1
1-160-130-77:Cpu0 Jonathan<span class="nv">$ </span>~/llvm/test/cmake_debug_build/Debug/bin/llvm-lit .
...
PASS: LLVM :: CodeGen/Cpu0/zeroreg.ll <span class="o">(</span>126 of 127<span class="o">)</span>
PASS: LLVM :: CodeGen/Cpu0/tailcall.ll <span class="o">(</span>127 of 127<span class="o">)</span>
...
</pre></div>
</div>
<p>Run as follows for single test case and the whole test cases on Linux.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>Gamma@localhost Cpu0<span class="o">]</span><span class="nv">$ </span><span class="nb">pwd</span>
/home/cschen/llvm/test/src/test/CodeGen/Cpu0
<span class="o">[</span>Gamma@localhost Cpu0<span class="o">]</span><span class="nv">$ </span>~/llvm/test/cmake_debug_build/bin/llvm-lit seteq.ll
-- Testing: 1 tests, 1 threads --
PASS: LLVM :: CodeGen/Cpu0/seteq.ll <span class="o">(</span>1 of 1<span class="o">)</span>
Testing Time: 0.08s
  Expected Passes    : 1
<span class="o">[</span>Gamma@localhost Cpu0<span class="o">]</span><span class="nv">$ </span>~/llvm/test/cmake_debug_build/bin/llvm-lit .
...
PASS: LLVM :: CodeGen/Cpu0/zeroreg.ll <span class="o">(</span>126 of 127<span class="o">)</span>
PASS: LLVM :: CodeGen/Cpu0/tailcall.ll <span class="o">(</span>127 of 127<span class="o">)</span>
...
</pre></div>
</div>
<p>In order to understand which chapter the regression test item test for,
listing the chapters first as follows,</p>
<table border="1" class="docutils">
<caption>Chapters</caption>
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>1</td>
<td>about</td>
</tr>
<tr class="row-even"><td>2</td>
<td>Cpu0 architecture and LLVM structure</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>Backend structure</td>
</tr>
<tr class="row-even"><td>4</td>
<td>Arithmetic and logic instructions</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>Generating object files</td>
</tr>
<tr class="row-even"><td>6</td>
<td>Global variables</td>
</tr>
<tr class="row-odd"><td>7</td>
<td>Other data type</td>
</tr>
<tr class="row-even"><td>8</td>
<td>Control flow statements</td>
</tr>
<tr class="row-odd"><td>9</td>
<td>Function call</td>
</tr>
<tr class="row-even"><td>10</td>
<td>ELF Support</td>
</tr>
<tr class="row-odd"><td>11</td>
<td>Assembler</td>
</tr>
<tr class="row-even"><td>12</td>
<td>C++ support</td>
</tr>
<tr class="row-odd"><td>13</td>
<td>Verify backend on verilog simulator</td>
</tr>
</tbody>
</table>
<p>Then the regression test items for Cpu0 list as follows,</p>
<table border="1" class="docutils">
<caption>Regression test items for Cpu0</caption>
<colgroup>
<col width="28%" />
<col width="12%" />
<col width="50%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File</th>
<th class="head">v:pass x:fail</th>
<th class="head">test ir, -&gt; output asm</th>
<th class="head">chapter</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>addc.ll</td>
<td>v</td>
<td>64-bit add</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>addi.ll</td>
<td>v</td>
<td>32-bit add, sub</td>
<td>4</td>
</tr>
<tr class="row-even"><td>address-mode.ll</td>
<td>v</td>
<td>br, -&gt; BB0_2:</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>alloca.ll</td>
<td>v</td>
<td>alloca i8, i32 %size, dynamic allocation</td>
<td>9</td>
</tr>
<tr class="row-even"><td>analyzebranch.ll</td>
<td>v</td>
<td>br, -&gt; bne, beq</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>and1.ll</td>
<td>v</td>
<td>and</td>
<td>4</td>
</tr>
<tr class="row-even"><td>asm-large-immediate.ll</td>
<td>v</td>
<td>inline asm</td>
<td>11</td>
</tr>
<tr class="row-odd"><td>atomic-1.ll</td>
<td>v</td>
<td>atomic</td>
<td>12</td>
</tr>
<tr class="row-even"><td>atomic-2.ll</td>
<td>v</td>
<td>atomic</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>atomics.ll</td>
<td>v</td>
<td>atomic</td>
<td>12</td>
</tr>
<tr class="row-even"><td>atomics-index.ll</td>
<td>v</td>
<td>atomic</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>atomics-fence.ll</td>
<td>v</td>
<td>atomic</td>
<td>12</td>
</tr>
<tr class="row-even"><td>br-jmp.ll</td>
<td>v</td>
<td>br, -&gt; jmp</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>cmov.ll</td>
<td>v</td>
<td>select, -&gt; movn, movz</td>
<td>8</td>
</tr>
<tr class="row-even"><td>cprestore.ll</td>
<td>v</td>
<td>-&gt; .cprestore</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>div.ll</td>
<td>v</td>
<td>sdiv, -&gt; div, mflo</td>
<td>4</td>
</tr>
<tr class="row-even"><td>divrem.ll</td>
<td>v</td>
<td>sdiv, srem, udiv, urem, -&gt; div, divu</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>div_rem.ll</td>
<td>v</td>
<td>sdiv, srem, -&gt; div, mflo, mfhi</td>
<td>4</td>
</tr>
<tr class="row-even"><td>divu.ll</td>
<td>v</td>
<td>udiv, -&gt; divu, mflo</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>divu_reml.ll</td>
<td>v</td>
<td>udiv, urem -&gt; div, mflo, mfhi</td>
<td>4</td>
</tr>
<tr class="row-even"><td>double2int.ll</td>
<td>v</td>
<td>double to int, -&gt; %call16(__fixdfsi)</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>eh.ll</td>
<td>v</td>
<td>c++ exception handling</td>
<td>12</td>
</tr>
<tr class="row-even"><td>ex2.ll</td>
<td>v</td>
<td>c++ exception handling</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>fneg.ll</td>
<td>v</td>
<td>verify Cpu0 don&#8217;t uses hard float instruction</td>
<td>7</td>
</tr>
<tr class="row-even"><td>fp-spill-reload.ll</td>
<td>v</td>
<td>-&gt; st $fp, ld $fp</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>global-address.ll</td>
<td>v</td>
<td>global address, global variable</td>
<td>6</td>
</tr>
<tr class="row-even"><td>global-pointer.ll</td>
<td>v</td>
<td>global register load and retore, -&gt; .cpload, .cprestore</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>gprestore.ll</td>
<td>v</td>
<td>global register retore, -&gt; .cprestore</td>
<td>9</td>
</tr>
<tr class="row-even"><td>helloworld.ll</td>
<td>v</td>
<td>global register load and retore, -&gt; .cpload, .cprestore</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>hf16_1.ll</td>
<td>v</td>
<td>function call in PIC, -&gt; ld, jalr</td>
<td>9</td>
</tr>
<tr class="row-even"><td>i32k.ll</td>
<td>v</td>
<td>argument of constant int passing in register</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>i64arg.ll</td>
<td>v</td>
<td>argument of constant 64-bit passing in register</td>
<td>9</td>
</tr>
<tr class="row-even"><td>imm.ll</td>
<td>v</td>
<td>return constant 32-bit in register</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>indirectcall.ll</td>
<td>v</td>
<td>indirect function call</td>
<td>9</td>
</tr>
<tr class="row-even"><td>inlineasm_constraint.ll</td>
<td>v</td>
<td>inline asm</td>
<td>11</td>
</tr>
<tr class="row-odd"><td>inlineasm-cnstrnt-reg.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>11</td>
</tr>
<tr class="row-even"><td>inlineasmmemop.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>11</td>
</tr>
<tr class="row-odd"><td>inlineasm-operand-code.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>11</td>
</tr>
<tr class="row-even"><td>internalfunc.ll</td>
<td>v</td>
<td>internal function</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>jstat.ll</td>
<td>v</td>
<td>switch, -&gt; JTI</td>
<td>8</td>
</tr>
<tr class="row-even"><td>largefr1.ll</td>
<td>v</td>
<td>large frame</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>largeimm1.ll</td>
<td>v</td>
<td>large immediate (32-bit, not 16-bit), -&gt; lui, addiu</td>
<td>3</td>
</tr>
<tr class="row-even"><td>largeimmprinting.ll</td>
<td>v</td>
<td>large imm passing in register</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>lb1.ll</td>
<td>v</td>
<td>load i8*, sext i8, -&gt; lb</td>
<td>7</td>
</tr>
<tr class="row-even"><td>lbu1.ll</td>
<td>v</td>
<td>load i8*, zext i8, -&gt; lbu</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>lh1.ll</td>
<td>v</td>
<td>load i16*, sext i16, -&gt; lh</td>
<td>7</td>
</tr>
<tr class="row-even"><td>lhu1.ll</td>
<td>v</td>
<td>load i16*, zext i16, -&gt; lhu</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>llcarry.ll</td>
<td>v</td>
<td>64-bit add sub</td>
<td>7</td>
</tr>
<tr class="row-even"><td>machineverifier.ll</td>
<td>v</td>
<td>delay slot, (comment in machineverifier.ll)</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>mipslopat.ll</td>
<td>v</td>
<td>no check output (comment in mipslopat.ll)</td>
<td>6</td>
</tr>
<tr class="row-even"><td>misha.ll</td>
<td>v</td>
<td>miss alignment half word access</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>module-asm.ll</td>
<td>v</td>
<td>module asm</td>
<td>11</td>
</tr>
<tr class="row-even"><td>mul.ll</td>
<td>v</td>
<td>mul</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>mulll.ll</td>
<td>v</td>
<td>64-bit mul</td>
<td>4</td>
</tr>
<tr class="row-even"><td>mulull.ll</td>
<td>v</td>
<td>64-bit mul</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>not1.ll</td>
<td>v</td>
<td>not 1</td>
<td>4</td>
</tr>
<tr class="row-even"><td>null.ll</td>
<td>v</td>
<td>ret i32 0, -&gt; ret     $lr</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>o32_cc_byval.ll</td>
<td>v</td>
<td>by value</td>
<td>9</td>
</tr>
<tr class="row-even"><td>o32_cc_vararg.ll</td>
<td>v</td>
<td>variable argument</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>private.ll</td>
<td>v</td>
<td>private function call</td>
<td>9</td>
</tr>
<tr class="row-even"><td>rem.ll</td>
<td>v</td>
<td>srem, -&gt; div, mfhi</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>remat-immed-load.ll</td>
<td>v</td>
<td>immediate load</td>
<td>3</td>
</tr>
<tr class="row-even"><td>remul.ll</td>
<td>v</td>
<td>urem, -&gt; div, mfhi</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>return-vector.ll</td>
<td>v</td>
<td>return vector, -&gt; ld ld ..., st st ...</td>
<td>3</td>
</tr>
<tr class="row-even"><td>return-vector-float4.ll</td>
<td>v</td>
<td>return vector, -&gt; lui lui ...</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>rotate.ll</td>
<td>v</td>
<td>rotl, rotr, -&gt; rolv, rol, rorv</td>
<td>4</td>
</tr>
<tr class="row-even"><td>sb1.ll</td>
<td>v</td>
<td>store i8, sb</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>select.ll</td>
<td>v</td>
<td>select, -&gt; movn, movz</td>
<td>8</td>
</tr>
<tr class="row-even"><td>seleq.ll</td>
<td>v</td>
<td>following for br with different condition</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>seleqk.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>selgek.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>selgt.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>selle.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>selltk.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>selne.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>selnek.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>seteq.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>seteqz.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setge.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>setgek.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setle.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>setlt.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setltk.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>setne.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setuge.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>setugt.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setule.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>setult.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-even"><td>setultk.ll</td>
<td>v</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>sext_inreg.ll</td>
<td>v</td>
<td>sext i1, -&gt; shl, sra</td>
<td>4</td>
</tr>
<tr class="row-even"><td>shift-parts.ll</td>
<td>v</td>
<td>64-bit shl, lshr, ashr, -&gt; call function</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>shl1.ll</td>
<td>v</td>
<td>shl, -&gt; shl</td>
<td>4</td>
</tr>
<tr class="row-even"><td>shl2.ll</td>
<td>v</td>
<td>shl, -&gt; shlv</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>shr1.ll</td>
<td>v</td>
<td>shr, -&gt; shr</td>
<td>4</td>
</tr>
<tr class="row-even"><td>shr2.ll</td>
<td>v</td>
<td>shr, -&gt; shrv</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>sitofp-selectcc-opt.ll</td>
<td>v</td>
<td>comment in sitofp-selectcc-opt.ll</td>
<td>7</td>
</tr>
<tr class="row-even"><td>small-section-reserve-gp.ll</td>
<td>v</td>
<td>Cpu0 option -cpu0-use-small-section=true</td>
<td>6</td>
</tr>
<tr class="row-odd"><td>sra1.ll</td>
<td>v</td>
<td>ashr, -&gt; sra</td>
<td>4</td>
</tr>
<tr class="row-even"><td>sra2.ll</td>
<td>v</td>
<td>ashr, -&gt; srav</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>stacksize.ll</td>
<td>v</td>
<td>comment in stacksize.ll</td>
<td>9</td>
</tr>
<tr class="row-even"><td>stchar.ll</td>
<td>v</td>
<td>load and store i16, i8</td>
<td>7</td>
</tr>
<tr class="row-odd"><td>stldst.ll</td>
<td>v</td>
<td>register sp spill</td>
<td>9</td>
</tr>
<tr class="row-even"><td>sub1.ll</td>
<td>v</td>
<td>sub, -&gt; addiu</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>sub2.ll</td>
<td>v</td>
<td>sub, -&gt; sub</td>
<td>4</td>
</tr>
<tr class="row-even"><td>tailcall.ll</td>
<td>v</td>
<td>tail call</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>tls.ll</td>
<td>v</td>
<td>ir thread_local global is for c++ &#8220;__thread int b;&#8221;</td>
<td>12</td>
</tr>
<tr class="row-even"><td>tls-models.ll</td>
<td>v</td>
<td>ir external/internal thread_local global</td>
<td>12</td>
</tr>
<tr class="row-odd"><td>uitofp.ll</td>
<td>v</td>
<td>integer2float, uitofp, -&gt; jsub __floatunsisf</td>
<td>9</td>
</tr>
<tr class="row-even"><td>uli.ll</td>
<td>v</td>
<td>unalignment init, -&gt; sb sb ...</td>
<td>6</td>
</tr>
<tr class="row-odd"><td>unalignedload.ll</td>
<td>v</td>
<td>unalignment init, -&gt; sb sb ...</td>
<td>6</td>
</tr>
<tr class="row-even"><td>weak.ll</td>
<td>v</td>
<td>extern_weak function, -&gt; .weak</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>xor1.ll</td>
<td>v</td>
<td>xor, -&gt; xor</td>
<td>4</td>
</tr>
<tr class="row-even"><td>zeroreg.ll</td>
<td>v</td>
<td>check register $zero</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>The Cpu0 regression test items copied from Mips.
Cpu0 doesn&#8217;t support the following test items at this point.</p>
<table border="1" class="docutils">
<caption>Not supported regression test items for Cpu0</caption>
<colgroup>
<col width="31%" />
<col width="12%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">File</th>
<th class="head">v:pass x:fail</th>
<th class="head">comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>blockaddr.ll</td>
<td>x</td>
<td>Not C/C++ language</td>
</tr>
<tr class="row-odd"><td>2008-08-08-bswap.ll</td>
<td>x</td>
<td>Not support llvm.bswap. The c++ STL swap didn&#8217;t use it. ?</td>
</tr>
<tr class="row-even"><td>2010-04-07-DbgValueOtherTargets.ll</td>
<td>x</td>
<td>Mips cannot pass either ?</td>
</tr>
<tr class="row-odd"><td>eh-dwraf-cfa.ll</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>eh-return32.ll</td>
<td>x</td>
<td>What is the IR of llvm.eh.return.i32? (not from c++ try &amp; catch).</td>
</tr>
<tr class="row-odd"><td>eh-return64.ll</td>
<td>x</td>
<td>Same as above.</td>
</tr>
<tr class="row-even"><td>fastcc.ll</td>
<td>x</td>
<td>Fast Call. No need in Cpu0</td>
</tr>
<tr class="row-odd"><td>frame-address.ll</td>
<td>x</td>
<td>Not support &#64;llvm.frameaddress intrinsic function.</td>
</tr>
<tr class="row-even"><td>init-array.ll</td>
<td>x</td>
<td>Don&#8217;t know the purpose.</td>
</tr>
<tr class="row-odd"><td>longbranch.ll</td>
<td>x</td>
<td>Not support and not intend to support.</td>
</tr>
<tr class="row-even"><td>tls-alias.ll</td>
<td>x</td>
<td>Mips 3.5 cannot pass either.</td>
</tr>
<tr class="row-odd"><td>vector-setcc.ll</td>
<td>x</td>
<td>Not support vector.</td>
</tr>
</tbody>
</table>
<p>These test items of supported and not supported are in
lbdex/regression-test/Cpu0 and lbdex/regression-test/not-support, repectively,
which can be got from untar lbdex.tar.gz.</p>
<table class="docutils footnote" frame="void" id="sphinx-install" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td><a class="reference external" href="http://docs.geoserver.org/latest/en/docguide/install.html">http://docs.geoserver.org/latest/en/docguide/install.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="maxtex" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[2]</a></td><td><a class="reference external" href="http://www.tug.org/mactex/">http://www.tug.org/mactex/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rst-ref" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[3]</a></td><td><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html">http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rst-dir" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[4]</a></td><td><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html">http://docutils.sourceforge.net/docs/ref/rst/directives.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rst" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[5]</a></td><td><a class="reference external" href="http://docutils.sourceforge.net/rst.html">http://docutils.sourceforge.net/rst.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="test" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td><a class="reference external" href="http://llvm.org/docs/TestingGuide.html">http://llvm.org/docs/TestingGuide.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="lbd" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[7]</td><td><a class="reference external" href="https://github.com/Jonathan2251/lbd.git">https://github.com/Jonathan2251/lbd.git</a></td></tr>
</tbody>
</table>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="install.html">Appendix A: Getting Started: Installing LLVM and the Cpu0 example code</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="todo.html">Todo List</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, LLVM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>